= form_for @company do |f|
  - if @company.errors.any?
    #error_explanation
      %h2= pluralize(@company.errors.count, "error") + " prohibited this company from being saved:"

      %ul
        - @company.errors.full_messages.each do |msg|
          %li= msg

  .field
    = f.label :name, "Name of the Company"
    = f.text_field :name

  .field
    - CompaniesHelper::BUDGET.each do |budget_name, budget_id|
      = f.radio_button :budget, budget_id
      = f.label :budget, budget_name, :value => budget_id

  .field
    = f.label :description
    = f.text_area :description


  .field
    = f.label :email
    = f.email_field :email

  .field
    = f.label :website
    = f.text_field :website

  .field
    - ApplicationHelper::PLATFORMS.each do |value|
      = check_box_tag "company_skills_#{value}", value, @company.skills.include?(value), :name => "company[skills][]"
      = label_tag "company_skills_#{value}", value

  .field
    = f.fields_for :location do |l|
      = l.label :country
      = l.country_select :country, priority: %w(US CA), prompt: 'Please select a country'
      = render partial: "subregion_select", locals: {:l => l, parent_region: l.object.country}

      //= l.label :country
      //= l.radio_button :country, Country.where(code: "US").first.id
      //= label_tag "company_location_attributes_country_#{Country.where(code: "US").first.id}", "United States"

      //= l.radio_button :country, :id
      //= autocomplete_field_tag "country_select", "", companies_autocomplete_country_name_path, :id_element => "#company_location_attributes_country_id"

  .field
    = image_tag @company.logo_url if @company.logo?
    = f.file_field :logo
    = f.hidden_field :logo_cache

  .actions
    = f.submit